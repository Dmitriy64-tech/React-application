{"version":3,"sources":["components/Preloader/Preloader.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Navbar/Navbar.module.css","serviceWorker.js","API/api.js","redux/profile-reducer.js","redux/dialogs-reducer.js","redux/sidebar-reducer.js","Utilits/helpers/object-helper.js","redux/users-reducer.js","redux/auth-reduser.js","redux/app-reduser.js","redux/redux-store.js","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Navbar/Navbar.jsx","img/36b78c8b7cd957e082f53148b74787ea.jpg","components/Users/User.jsx","components/common/Paginator/Paginator.jsx","components/Users/Users.jsx","img/preloader.svg","components/Preloader/Preloader.jsx","HOC/withAuthRedirect.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/common/FormControls/FormControls.js","components/Profile/ProfileInfo/ProfileDataForm.jsx","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","Utilits/Validators/validators.js","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","components/Login/Login.jsx","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx","App.js","index.js","components/Dialogs/Dialogs.module.css","components/Users/Users.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Header/Header.module.css","components/common/FormControls/FormControls.module.css","components/Profile/MyPosts/MyPosts.module.css","components/common/Paginator/Paginator.module.css","components/Login/Login.module.css"],"names":["module","exports","Boolean","window","location","hostname","match","axiosInstance","axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","Follow","id","post","unFollow","delete","getProfile","userId","console","warn","profileAPI","authAPI","email","password","rememberMe","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SET_PHOTO","initialState","posts","message","likesCount","setUserStatusAC","type","getUserProfile","dispatch","a","profileReducer","state","action","newPostID","length","newPost","newPostBody","filter","p","postID","photos","photo","SEND_MESSAGE","dialogs","name","messages","dialogsReducer","newMessageID","body","newMessageBody","sidebarReducer","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","UNFOLLOW","FOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","isFollowingInProgress","followSuccess","unfollowSuccess","setUsers","setCurrentPage","setIsFetching","toggleIsFollowing","followUnfollowFlow","apiMethod","actionCreator","resultCode","usersReducer","followed","totalCount","SET_USER_DATA","userID","login","isAuth","setAuthUserData","payload","getAuthUserData","authReducer","INITIALIZED_SUCCESED","isInitialized","appReduser","reducers","combineReducers","profilePage","dialogsPage","sidebar","usersPage","auth","form","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","Header","props","className","s","header","to","activeClassName","activeLink","src","title","loginBlock","onClick","logout","HeaderContainer","this","React","Component","connect","Navbar","nav","item","active","User","user","unfollow","follow","avatar","small","userPhoto","disabled","some","followBTN","userInfo","aboutUser","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","paginator","cn","selectedPage","pageNumber","e","Users","onPageClick","Preloader","preloaderIMG","preloader","mapStateToPropsForRedirect","withAuthRedirect","AuthRedirect","GetUsers","createSelector","GetPageSize","GetTotalUsersCount","GetCurrentPage","GetIsFetching","GetIsFollowingInProgress","UsersContainer","page","getUsersOnPageClick","bind","FormControl","meta","touched","error","children","hasError","formControl","TextArea","child","input","restProps","text","Input","CreateField","placeholder","validators","component","Field","validate","ReduxProfileDataForm","reduxForm","handleSubmit","onSubmit","lookingForAJob","Object","keys","contacts","key","contact","formSummaryError","ProfileStatusWithHooks","editMode","setEditMode","setStatus","useEffect","autoFocus","onBlur","onChange","currentTarget","value","onDoubleClick","ProfileData","isOwner","activateEditMode","profileName","fullName","lookingForAJobDescription","aboutMe","Title","Value","editBTN","Contact","ProfileInfo","descriptionBlock","large","file","target","files","initialValues","Post","likes","setLike","profilePH","postText","like","required","maxLengthCreator","maxLength","maxLenght","MyPosts","memo","postsElements","reverse","postsBlock","ReduxAddNewPostForm","values","addPost","addPostArea","addPostBTN","MyPostsContainer","newPostText","addPostActionCreator","Profile","ProfileContainer","setUserProfile","params","loginedUserId","prevProps","prevState","snapshot","getState","stopSubmit","_error","Promise","reject","withRouter","LoginReduxForm","remember","loginBTN","logIn","DialogItem","path","activeDialog","person","Message","dialog","ReduxAddMessageForm","textButtonArea","Dialogs","dialogsElements","d","messagesElements","m","dialogsItems","sendMessage","sendMessageCreator","App","initilizeApp","render","DialogsContainer","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.95fd095f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloaderIMG\":\"Preloader_preloaderIMG__34bRm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__3dCa2\",\"avatar\":\"ProfileInfo_avatar__2yRcv\",\"profileName\":\"ProfileInfo_profileName__1RgKY\",\"status\":\"ProfileInfo_status__2Y-B-\",\"contact\":\"ProfileInfo_contact__3WOyp\",\"editBTN\":\"ProfileInfo_editBTN__3LuNZ\",\"formSummaryError\":\"ProfileInfo_formSummaryError__3pb_T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__157BH\",\"item\":\"Navbar_item__3rQl_\",\"activeLink\":\"Navbar_activeLink__2oPsy\"};","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import axios from 'axios'\r\nimport { savePhoto } from '../redux/profile-reducer';\r\n\r\nconst axiosInstance = axios.create(\r\n    {\r\n        withCredentials: true,\r\n        baseURL: 'https://social-network.samuraijs.com/api/1.0',\r\n        headers: { \"API-KEY\": \"97132c0f-39d9-4230-aaf8-d365f7c03dce\" }\r\n    }\r\n);\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage, pageSize) {\r\n        return axiosInstance.get(`/users?page=${currentPage}&count=${pageSize}`).then(response => { return response.data })\r\n    },\r\n    Follow(id) {\r\n        return axiosInstance.post(`/follow/${id}`).then(response => { return response.data })\r\n    },\r\n    unFollow(id) {\r\n        return axiosInstance.delete(`/follow/${id}`).then(response => { return response.data })\r\n    },\r\n    getProfile(userId) {\r\n        console.warn('Obsolete method. Please profileAPI object.')\r\n        return profileAPI.getProfile(userId);\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const authAPI = {\r\n    authMe() {\r\n        return axiosInstance.get(`auth/me`);\r\n    },\r\n    login(email, password, rememberMe = false) {\r\n        return axiosInstance.post(`auth/login`, { email, password, rememberMe });\r\n    },\r\n    logout() {\r\n        return axiosInstance.delete(`auth/login`);\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return axiosInstance.get(`/profile/${userId}`)\r\n    },\r\n    getStatus(userId) {\r\n        return axiosInstance.get(`profile/status/` + userId);\r\n    },\r\n    updateStatus(status) {\r\n        return axiosInstance.put(`profile/status`, { status: status });\r\n    },\r\n    savePhoto(photoFile){\r\n        const formData = new FormData();\r\n        formData.append(\"image\", photoFile);\r\n\r\n        return axiosInstance.put(`profile/photo`, formData, {headers: \r\n            {\"Content-Type\": 'multipart/form-data'}} )\r\n    },\r\n    saveProfile(profile){\r\n        return axiosInstance.put(`profile`, profile);\r\n    }\r\n}\r\n\r\n","import { profileAPI, usersAPI } from \"../API/api\";\r\nimport { stopSubmit } from \"redux-form\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE'\r\nconst SET_STATUS = 'SET_STATUS'\r\nconst DELETE_POST = 'DELETE_POST'\r\nconst SET_PHOTO = 'SET_PHOTO'\r\nconst SET_PROFILE = 'SET_PROFILE'\r\n\r\nlet initialState = {\r\n    posts: [\r\n        { id: 1, message: 'Hi, how are you?', likesCount: 12 },\r\n        { id: 2, message: 'It\\'s my first post', likesCount: 11 },\r\n        { id: 3, message: 'Blabla', likesCount: 11 },\r\n        { id: 4, message: 'Dada', likesCount: 11 }\r\n    ],\r\n    status: '',\r\n    profile: null\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPostID = state.posts.length;\r\n            let newPost = {\r\n                id: newPostID,\r\n                message: action.newPostBody,\r\n                likesCount: 0\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n            };\r\n        }\r\n        case SET_USER_PROFILE: {\r\n\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            };\r\n\r\n        }\r\n        case DELETE_POST: {\r\n\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id != action.postID)\r\n            };\r\n\r\n        }\r\n        case SET_STATUS: {\r\n\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n\r\n        }\r\n        case SET_PHOTO: {\r\n            return { ...state, profile: { ...state.profile, photos: action.photo } }\r\n\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const addPostActionCreator = (newPostBody) => ({ type: ADD_POST, newPostBody })\r\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile })\r\nexport const setUserStatusAC = (status) => ({ type: SET_STATUS, status })\r\nexport const deletePost = (postID) => ({ type: DELETE_POST, postID })\r\nexport const setUserPhoto = (photo) => ({ type: SET_PHOTO, photo })\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n\r\n    let response = await usersAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response.data));\r\n}\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId);\r\n    dispatch(setUserStatusAC(response.data));\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status)\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setUserStatusAC(status));\r\n    }\r\n}\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    let response = await profileAPI.savePhoto(file)\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setUserPhoto(response.data.data.photos));\r\n    }\r\n}\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    const response = await profileAPI.saveProfile(profile)\r\n    const userId = getState().auth.userID;\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getUserProfile(userId));\r\n    } else {\r\n        dispatch(stopSubmit(\"edit-profile\", {_error: response.data.messages[0] }));\r\n        return Promise.reject(response.data.messages[0]);\r\n    }\r\n}\r\n\r\nexport default profileReducer;","const SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        { id: 1, name: 'Anna' },\r\n        { id: 2, name: 'Vitaliy' },\r\n        { id: 3, name: 'Ivan' },\r\n        { id: 4, name: 'Dima' }\r\n    ],\r\n    messages: [\r\n        { id: 1, message: 'Hi' },\r\n        { id: 2, message: 'How are you?' },\r\n        { id: 3, message: 'Yo' },\r\n        { id: 4, message: 'Yo' },\r\n        { id: 5, message: 'Yo' }\r\n    ],\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n\r\n        case SEND_MESSAGE:\r\n            let newMessageID = state.messages.length;\r\n            let body = action.newMessageBody;\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, { id: newMessageID, message: body }],\r\n            };\r\n\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({ type: SEND_MESSAGE, newMessageBody })\r\n\r\nexport default dialogsReducer;","let initialState = {};\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","\r\nexport const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return { ...u, ...newObjProps }\r\n        }\r\n        return u;\r\n    })\r\n}","import { usersAPI } from \"../API/api\";\r\nimport { updateObjectInArray } from \"../Utilits/helpers/object-helper\";\r\n\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst FOLLOW = 'FOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT'\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING'\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS'\r\n\r\n\r\nlet initialState = {\r\n    users: [\r\n    ],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    isFollowingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", { followed: true } )\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", { followed: false } )\r\n            }\r\n            \r\n        case SET_USERS:\r\n            return { ...state, users: action.users }\r\n\r\n        case SET_CURRENT_PAGE:\r\n            return { ...state, currentPage: action.currentPage }\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return { ...state, totalUsersCount: action.totalCount }\r\n        case TOGGLE_IS_FETCHING:\r\n            return { ...state, isFetching: action.isFetching }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                isFollowingInProgress: action.isFollowingInProgress\r\n                    ? [...state.isFollowingInProgress, action.userId]\r\n                    : state.isFollowingInProgress.filter(id => id != action.userId)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userId) => { return { type: FOLLOW, userId } }\r\nexport const unfollowSuccess = (userId) => { return { type: UNFOLLOW, userId } }\r\nexport const setUsers = (users) => { return { type: SET_USERS, users } }\r\nexport const setCurrentPage = (currentPage) => { return { type: SET_CURRENT_PAGE, currentPage } }\r\nexport const setTotalUsersCount = (totalCount) => { return { type: SET_TOTAL_USERS_COUNT, totalCount } }\r\nexport const setIsFetching = (isFetching) => { return { type: TOGGLE_IS_FETCHING, isFetching } }\r\nexport const toggleIsFollowing = (isFollowingInProgress, userId) => { return { type: TOGGLE_IS_FOLLOWING_PROGRESS, isFollowingInProgress, userId } }\r\n\r\nexport const getUsers = (currentPage, pageSize) => async (dispatch) => {\r\n    let data = await usersAPI.getUsers(currentPage, pageSize);\r\n    dispatch(setIsFetching(true));\r\n    dispatch(setUsers(data.items));\r\n    dispatch(setTotalUsersCount(data.totalCount));\r\n    dispatch(setIsFetching(false));\r\n}\r\n\r\n\r\nexport const getUsersOnPageClick = (currentPage, pageSize) => async (dispatch) => {\r\n    let data = await usersAPI.getUsers(currentPage, pageSize);\r\n    dispatch(setIsFetching(true));\r\n    dispatch(setCurrentPage(currentPage));\r\n    dispatch(setUsers(data.items));\r\n    dispatch(setIsFetching(false));\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, id, apiMethod, actionCreator) =>{\r\n    dispatch(toggleIsFollowing(true, id));\r\n    let data = await apiMethod(id);\r\n    if (data.resultCode == 0) {\r\n        dispatch(actionCreator(id))\r\n    }\r\n    dispatch(toggleIsFollowing(false, id));\r\n}\r\n\r\nexport const follow = (id) => async (dispatch) => {\r\n    let apiMethod = usersAPI.Follow.bind(id);\r\n    followUnfollowFlow(dispatch, id, apiMethod, followSuccess);\r\n}\r\n\r\nexport const unfollow = (id) => async (dispatch) => {\r\n    let apiMethod = usersAPI.unFollow.bind(id);\r\n    followUnfollowFlow(dispatch, id, apiMethod, unfollowSuccess);\r\n}\r\n\r\n\r\n\r\nexport default usersReducer;","import { stopSubmit } from \"redux-form\";\r\nimport { authAPI } from \"../API/api\";\r\n\r\n\r\nconst SET_USER_DATA = '/auth/SET_USER_DATA';\r\n\r\n\r\nlet initialState = {\r\n    userID: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userID, email, login, isAuth) => { return { type: SET_USER_DATA, payload: { userID, email, login, isAuth } } }\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.authMe();\r\n\r\n    if (response.data.resultCode === 0) {\r\n        let { id, login, email } = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n}\r\n\r\nexport const logIn = (email, password, rememberMe) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe)\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\"\r\n        dispatch(stopSubmit(\"Login\", { _error: message }));\r\n    }\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n\r\n    let response = await authAPI.logout()\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default authReducer;","import { getAuthUserData } from \"./auth-reduser\";\r\n\r\nconst INITIALIZED_SUCCESED = 'INITIALIZED_SUCCESED';\r\n\r\nlet initialState = {\r\n    isInitialized: false\r\n};\r\n\r\nconst appReduser = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESED:\r\n            return {\r\n                ...state,\r\n                isInitialized : true\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESED})\r\n\r\nexport const initilizeApp = () => (dispatch) =>{\r\n    let dispatchPromise = dispatch(getAuthUserData());\r\n    dispatchPromise.then(()=>{\r\n        dispatch(initializedSuccess());\r\n    })\r\n    \r\n}\r\n\r\nexport default appReduser;","import { combineReducers, createStore } from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reduser\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appReduser from \"./app-reduser\";\r\nimport { applyMiddleware, compose } from 'redux';\r\n\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReduser\r\n});\r\n\r\n const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n const store = createStore(reducers,composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nwindow.store = store;\r\n\r\nexport default store;","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n    return <header className={s.header}>\r\n        <NavLink to=\"/profile\" activeClassName={s.activeLink}>\r\n            <img src='https://www.vectorlogo.zone/logos/telegram/telegram-tile.svg' />\r\n        </NavLink>\r\n        <span className={s.title}>FakeTelegram</span>\r\n        <div className={s.loginBlock}> <NavLink to=\"/login\"> {props.isAuth \r\n        ? <div>{props.login} <button onClick={props.logout}>Log Out</button></div>  \r\n        : 'Log In'}</NavLink></div>\r\n    </header>\r\n}\r\n\r\nexport default Header;","import React, { Component } from 'react'\r\nimport Header from './Header';\r\nimport { logout } from '../../redux/auth-reduser';\r\nimport { connect } from 'react-redux'\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n    componentDidMount() {\r\n\r\n\r\n    }\r\n    render() {\r\n        return <Header {...this.props} />\r\n    }\r\n\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, { logout })(HeaderContainer);","import React from 'react';\r\nimport s from './Navbar.module.css';\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/profile\" activeClassName={s.activeLink}>Profile</NavLink>\r\n            </div>\r\n            <div className={`${s.item} ${s.active}`}>\r\n                <NavLink to=\"/dialogs\" activeClassName={s.activeLink}>Messages</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/users\" activeClassName={s.activeLink}>Users</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <a>Music</a>\r\n            </div>\r\n            <div className={s.item}>\r\n                <a>Settings</a>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar;","export default __webpack_public_path__ + \"static/media/36b78c8b7cd957e082f53148b74787ea.e911d43c.jpg\";","import React from 'react'\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './Users.module.css'\r\nimport userPhoto from 'D:\\\\Git Rep\\\\React-application\\\\src\\\\img\\\\36b78c8b7cd957e082f53148b74787ea.jpg'\r\n\r\nconst User = ({ user, isFollowingInProgress,unfollow, follow }) => {\r\n    return (\r\n        <div>\r\n            <div className={s.users}>\r\n                <div>\r\n                    <div>\r\n                        <NavLink to={\"/profile/\" + user.id}>\r\n                            <img className={s.avatar} src={user.photos.small != null ? user.photos.small : userPhoto}></img>\r\n                        </NavLink>\r\n                    </div>\r\n                    <div>{user.followed\r\n                        ? <button disabled={isFollowingInProgress\r\n                            .some(id => id === user.id)} className={s.followBTN} onClick={() => {\r\n                                unfollow(user.id);\r\n                            }} >Unfollow</button>\r\n                        : <button disabled={isFollowingInProgress\r\n                            .some(id => id === user.id)} className={s.followBTN} onClick={() => {\r\n                                follow(user.id);\r\n                            }}>Follow</button>}\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={s.userInfo}>\r\n                    <span className={s.aboutUser}>\r\n                        <div>{user.name}</div>\r\n                        <div>{user.status}</div>\r\n                    </span>\r\n\r\n                    <span className={s.location}>\r\n                        <div>country</div>\r\n                        <div>city</div>\r\n                    </span>\r\n\r\n                </div>\r\n            </div>\r\n\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default User","import React, {useState} from 'react';\r\nimport styles from \"./Paginator.module.css\";\r\nimport cn from \"classnames\";\r\n\r\nlet Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n\r\n    return <div className={styles.paginator}>\r\n        { portionNumber > 1 &&\r\n        <button onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</button> }\r\n\r\n            {pages\r\n                .filter(p => p >= leftPortionPageNumber && p<=rightPortionPageNumber)\r\n                .map((p) => {\r\n                return <span className={ cn({\r\n                    [styles.selectedPage]: currentPage === p\r\n                }, styles.pageNumber) }\r\n                             key={p}\r\n                             onClick={(e) => {\r\n                                 onPageChanged(p);\r\n                             }}>{p}</span>\r\n            })}\r\n        { portionCount > portionNumber &&\r\n            <button onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</button> }\r\n\r\n\r\n    </div>\r\n}\r\n\r\nexport default Paginator;","import React from 'react';\r\nimport User from './User';\r\nimport Paginator from '../common/Paginator/Paginator';\r\n\r\n\r\n\r\nconst Users = ({ onPageClick, currentPage, totalUsersCount, pageSize, isFollowingInProgress, follow, unfollow, ...props }) => {\r\n    return (\r\n        <div>\r\n            {\r\n                props.users.map(u => <User user={u}\r\n                    isFollowingInProgress = {isFollowingInProgress}\r\n                    follow = {follow}\r\n                    unfollow ={unfollow}\r\n                     key={u.id}/> )\r\n            }\r\n            <Paginator currentPage={currentPage} onPageChanged={onPageClick} \r\n            totalItemsCount = {totalUsersCount} pageSize= {pageSize} />\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default Users","export default __webpack_public_path__ + \"static/media/preloader.0c178750.svg\";","import React from 'react'\r\nimport preloader from 'D:\\\\Git Rep\\\\React-application\\\\src\\\\img\\\\preloader.svg'\r\nimport s from './Preloader.module.css'\r\n\r\nexport default function Preloader() {\r\n    return (\r\n        <div className={s.preloaderIMG}><img src={preloader}></img> </div>\r\n    )\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n    class AuthRedirect extends React.Component {\r\n        render() {\r\n            if(!this.props.isAuth) return <Redirect to={\"/login\"}/>;\r\n            return (\r\n                <Component {...this.props}/>\r\n            )\r\n        }\r\n    }\r\n    let ConnectedAuthRegirectComponent = connect(mapStateToPropsForRedirect)(AuthRedirect)\r\n\r\n    return ConnectedAuthRegirectComponent;\r\n}\r\n","import {createSelector} from \"reselect\";\r\n\r\nconst GetUsersSelector = (state)=>{\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const GetUsers= createSelector( GetUsersSelector, (users) =>{\r\n    return users.filter(u => true);\r\n})\r\n\r\nexport const GetPageSize = (state)=>{\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\nexport const GetTotalUsersCount = (state)=>{\r\n    return  state.usersPage.totalUsersCount;\r\n}\r\nexport const GetCurrentPage = (state)=>{\r\n    return  state.usersPage.currentPage;\r\n}\r\nexport const GetIsFetching = (state)=>{\r\n    return state.usersPage.isFetching;\r\n}\r\nexport const GetIsFollowingInProgress = (state)=>{\r\n    return state.usersPage.isFollowingInProgress;\r\n}","import { connect } from 'react-redux'\r\nimport { getUsersOnPageClick, toggleIsFollowing, follow, unfollow, getUsers } from '../../redux/users-reducer'\r\nimport Users from './Users';\r\nimport React, { Component } from 'react'\r\nimport Preloader from '../Preloader/Preloader';\r\nimport { withAuthRedirect } from '../../HOC/withAuthRedirect';\r\nimport { compose } from 'redux';\r\nimport { GetIsFollowingInProgress,\r\n    GetIsFetching, \r\n    GetCurrentPage, \r\n    GetPageSize, \r\n    GetUsers, \r\n    GetTotalUsersCount \r\n} from '../../redux/users-selectors';\r\n\r\n\r\nclass UsersContainer extends Component {\r\n\r\n    componentDidMount() {\r\n        const {currentPage, pageSize } = this.props;\r\n        this.props.getUsers(currentPage, pageSize);\r\n    }\r\n\r\n    onPageClick = (page) => {\r\n        const {pageSize} = this.props;\r\n        this.props.getUsersOnPageClick(page, pageSize)\r\n    }\r\n\r\n    render() {\r\n        return (<>\r\n            {this.props.isFetching ? <Preloader /> :\r\n                <Users totalUsersCount={this.props.totalUsersCount}\r\n                    pageSize={this.props.pageSize}\r\n                    currentPage={this.props.currentPage}\r\n                    onPageClick={this.onPageClick}\r\n                    follow={this.props.follow}\r\n                    unfollow={this.props.unfollow}\r\n                    users={this.props.users}\r\n                    isFollowingInProgress={this.props.isFollowingInProgress}\r\n                />}\r\n\r\n        </>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: GetUsers(state),\r\n        pageSize: GetPageSize(state),\r\n        totalUsersCount: GetTotalUsersCount(state),\r\n        currentPage: GetCurrentPage(state),\r\n        isFetching: GetIsFetching(state),\r\n        isFollowingInProgress: GetIsFollowingInProgress(state)\r\n    }\r\n}\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        follow,\r\n        unfollow,\r\n        toggleIsFollowing,\r\n        getUsers,\r\n        getUsersOnPageClick\r\n    }),\r\n    withAuthRedirect\r\n)(UsersContainer)\r\n","import React from \"react\"\r\nimport { Field } from \"redux-form\"\r\nimport s from \"./FormControls.module.css\"\r\n\r\nexport const FormControl = ({ meta :{touched, error}, children }) => {\r\n    const hasError = touched && error\r\n    return (\r\n        <div className={s.formControl + \" \" + (hasError ? s.error : \"\")}>\r\n            <div>\r\n                {children} \r\n            </div>\r\n            {hasError ? <span>{error}</span> : \"\"}\r\n        </div>\r\n    )\r\n}\r\nexport const TextArea = (props) => {\r\n    const { child, input, meta, ...restProps } = props\r\n    return (\r\n        <FormControl {...props}><textarea className={s.text} {...input} {...restProps} /></FormControl>\r\n    )\r\n}\r\nexport const Input = (props) => {\r\n    const { child, input, meta, ...restProps } = props\r\n    return (\r\n        <FormControl {...props}><input className={s.text} {...input} {...restProps} /></FormControl>\r\n    )\r\n}\r\n\r\nexport const CreateField = (placeholder, name, validators, component, type = \"\") => {\r\n    return <Field validate={validators} \r\n     placeholder={placeholder} \r\n     name={name} \r\n     component={component}\r\n     type={type}></Field>\r\n}","import React from 'react'\r\nimport s from './ProfileInfo.module.css';\r\nimport Contact from './ProfileInfo'\r\nimport { CreateField, Input, TextArea } from '../../common/FormControls/FormControls';\r\nimport { reduxForm } from 'redux-form';\r\n\r\nfunction ProfileDataForm({ handleSubmit, profile, error }) {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div>Full Name: {CreateField(\"Full name\", \"fullName\", [], Input)}</div>\r\n            <div>Looking for a job: <span className={s.lookingForAJob}>{CreateField(\"\", \"lookingForAJob\", [], Input, \"checkbox\")}</span></div>\r\n            <div>Looking for a job description: <span>{CreateField(\"Description\", \"lookingForAJobDescription\", [], TextArea)}</span></div>\r\n            <div>About me: <span>{CreateField(\"About me\", \"aboutMe\", [], TextArea)}</span></div>\r\n            <div>\r\n                <b>Contacts</b>: {Object.keys(profile.contacts).map(key => {\r\n                    return <div key={key} className={s.contact}>\r\n                        {key}:  {CreateField(key, \"contacts.\" + key, [], Input)}\r\n                    </div>\r\n                })}\r\n            </div>\r\n            { error && <div className={s.formSummaryError}>\r\n                {error}\r\n            </div>}\r\n            <button>Save</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst ReduxProfileDataForm = reduxForm({ form: 'edit-profile' })(ProfileDataForm)\r\nexport default ReduxProfileDataForm","import React, {useState, useEffect} from 'react'\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n    \r\n    let [editMode,setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    const activateEditMode =() =>{\r\n        setEditMode(true);\r\n    }\r\n    const deactivateEditMode =() =>{\r\n        setEditMode(false);\r\n        props.updateStatus(status);\r\n    }\r\n    const onStatusChange = (e) =>{\r\n        setStatus(e.currentTarget.value);\r\n    }\r\n    \r\n\r\n    return (\r\n        <div>\r\n            {\r\n                editMode\r\n                    ? <div>\r\n                        <input  autoFocus={true}\r\n                        onBlur ={deactivateEditMode}\r\n                          onChange={onStatusChange} \r\n                          value={status}>\r\n                        </input>\r\n                    </div>\r\n                    : <div>\r\n                        <span onDoubleClick={activateEditMode}>\r\n                            <b>Status:</b> {props.status || \"No status\"} \r\n                        </span>\r\n                    </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\nexport default ProfileStatusWithHooks;","import React, { useState } from 'react';\r\nimport Preloader from '../../Preloader/Preloader';\r\nimport ProfileDataForm from './ProfileDataForm';\r\nimport s from './ProfileInfo.module.css';\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks';\r\nimport userPhoto from 'D:\\\\Git Rep\\\\React-application\\\\src\\\\img\\\\36b78c8b7cd957e082f53148b74787ea.jpg';\r\n\r\nconst ProfileInfo = (props) => {\r\n    const onAvatarSelected = (e) => {\r\n        let file = e.target.files[0];\r\n        props.savePhoto(file);\r\n    }\r\n    const onSubmit =  (formData) => {\r\n        props.saveProfile(formData).then(()=>{\r\n            setEditMode(false);\r\n\r\n        })\r\n        \r\n\r\n    }\r\n    let [editMode, setEditMode] = useState(false);\r\n    if (!props.profile) {\r\n        return <Preloader />\r\n    }\r\n    else {\r\n        return (\r\n            <div>\r\n                <div className={s.descriptionBlock}>\r\n                    <img className={s.avatar} src={props.profile.photos.large || userPhoto} ></img>\r\n                    <div>{props.isOwner\r\n                        ? <input type=\"file\" onChange={onAvatarSelected} />\r\n                        : \"\"}</div>\r\n                    <div className={s.status}><ProfileStatusWithHooks status={props.status}\r\n                        updateStatus={props.updateStatus} /></div>\r\n                    {editMode ? <ProfileDataForm profile={props.profile} initialValues={props.profile} onSubmit={onSubmit} profile={props.profile} /> : <ProfileData\r\n                        activateEditMode={() => { setEditMode(true) }}\r\n                        profile={props.profile}\r\n                        isOwner={props.isOwner} />}\r\n\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\nconst ProfileData = ({ profile, isOwner, activateEditMode }) => {\r\n    return <div>\r\n        <p className={s.profileName}>{profile.fullName}</p>\r\n        <p><b>Looking for a job:</b> {profile.lookingForAJob ? \"yes\" : \"no\"}</p>\r\n        <p>{profile.lookingForAJobDescription}</p>\r\n        <p><b>About me:</b> {profile.aboutMe}</p>\r\n        {<div>\r\n            <b>Contacts:</b> {Object.keys(profile.contacts)\r\n                .map(key => {\r\n                    return <Contact key={key} Title={key} Value={profile.contacts[key]} />\r\n                })}\r\n        </div>}\r\n        {isOwner ? <div className={s.editBTN}>\r\n            <button onClick={activateEditMode}>Edit</button>\r\n        </div> : null}\r\n    </div>\r\n}\r\n\r\nexport const Contact = ({ Title, Value }) => {\r\n    return <div className={s.contact}><b>{Title}:</b>{Value}</div>\r\n}\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport s from './Post.module.css';\r\nimport userPhoto from 'D:\\\\Git Rep\\\\React-application\\\\src\\\\img\\\\36b78c8b7cd957e082f53148b74787ea.jpg';\r\n\r\nconst Post = (props) => {\r\n  const [likes, setLike] = React.useState(props.likesCount);\r\n  const putLike = () => {\r\n    if (likes == props.likesCount ) {\r\n      setLike(likes + 1);\r\n    }\r\n    else if(likes > props.likesCount)\r\n    {\r\n      setLike(likes - 1);\r\n    }\r\n  }\r\n  return (\r\n    <div className={s.item}>\r\n      <img className={s.profilePH} src={userPhoto} />\r\n      <span className={s.postText}>{props.message}</span>\r\n      <div>\r\n        <span onClick={putLike}><img className={s.like} src={\"https://i.pinimg.com/originals/39/44/6c/39446caa52f53369b92bc97253d2b2f1.png\"}></img></span>\r\n         <span className={s.likesCount}>{likes}</span>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Post;"," export const required = (value) =>{\r\n    if (value) {\r\n        return undefined;\r\n    }\r\n    return \"Field is required\"\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength)=> (value) =>{\r\n    if ( value.length > maxLength) {\r\n        return `Max ${maxLength} symbols`\r\n    }\r\n    return undefined\r\n  }\r\n\r\nexport default required;","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { TextArea } from '../../common/FormControls/FormControls';\r\nimport s from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport required, { maxLengthCreator } from \"D:\\\\Git Rep\\\\React-application\\\\src\\\\Utilits\\\\Validators\\\\validators.js\"\r\n\r\nconst maxLenght = maxLengthCreator(1000);\r\n\r\nconst MyPosts = React.memo((props) => {\r\n    let postsElements =\r\n        [...props.posts].reverse().map(p => <Post key={p.message} message={p.message} likesCount={p.likesCount} />);\r\n\r\n\r\n    let addNewPost = (values) => {\r\n        props.addPost(values.newPostBody);\r\n        values.newPostBody = \"\"\r\n    }\r\n\r\n    return (\r\n        <div className={s.postsBlock}>\r\n            <h3>My posts</h3>\r\n            <div>\r\n                <p>Write down the post:</p>\r\n                <ReduxAddNewPostForm onSubmit={addNewPost} />\r\n            </div>\r\n            <div className={s.posts}>\r\n                {postsElements}\r\n            </div>\r\n        </div>\r\n    )\r\n})\r\n\r\nconst AddNewPostForm = (props) => {\r\n    return (<form onSubmit={props.handleSubmit}>\r\n        <div className={s.addPostArea}>\r\n            <Field validate={[required, maxLenght]} placeholder=\"New Post\" component={TextArea} name=\"newPostBody\" />\r\n        </div>\r\n        <button className={s.addPostBTN}>Add post</button>\r\n    </form>\r\n    )\r\n}\r\n\r\nconst ReduxAddNewPostForm = reduxForm({ form: \"addPost\" })(AddNewPostForm)\r\n\r\n\r\nexport default MyPosts;","import React from 'react';\r\nimport { addPostActionCreator } from \"../../../redux/profile-reducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        newPostText: state.profilePage.newPostText,\r\n        profile: state.profilePage.profile\r\n    }\r\n}\r\n\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (newPostBody) => {\r\n            dispatch(addPostActionCreator(newPostBody));\r\n        }\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer;","import React from 'react';\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nconst Profile = (props) => {\r\n    return (\r\n        <div>\r\n            <ProfileInfo\r\n            isOwner ={props.isOwner}\r\n            profile={props.profile} \r\n            status={props.status}\r\n            updateStatus={props.updateStatus}\r\n            savePhoto = {props.savePhoto} \r\n            saveProfile ={props.saveProfile}/>\r\n\r\n            \r\n            <MyPostsContainer \r\n            profile={props.profile}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile;","import React, { Component } from 'react'\r\nimport Profile from './Profile';\r\nimport { connect } from 'react-redux';\r\nimport { saveProfile, getUserProfile, getStatus, updateStatus, savePhoto } from \"../../redux/profile-reducer\";\r\nimport { withRouter } from 'react-router-dom';\r\nimport { withAuthRedirect } from '../../HOC/withAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    setUserProfile = () => {\r\n        let userId = this.props.match.params.userID\r\n        if (!userId) {\r\n            userId = this.props.loginedUserId;\r\n        }\r\n        this.props.getUserProfile(userId);\r\n        this.props.getStatus(userId);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setUserProfile();\r\n\r\n    }\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.props.match.params.userID != prevProps.match.params.userID) {\r\n            this.setUserProfile();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile {...this.props}\r\n                isOwner={!this.props.match.params.userID}\r\n                profile={this.props.profile}\r\n                status={this.props.status}\r\n                updateStatus={this.props.updateStatus}\r\n                savePhoto={this.props.savePhoto} \r\n                saveProfile ={this.props.saveProfile}/>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        profile: state.profilePage.profile,\r\n        status: state.profilePage.status,\r\n        loginedUserId: state.auth.userID,\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, { saveProfile, getUserProfile, getStatus, updateStatus, savePhoto }),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfileContainer)\r\n","import React from 'react'\r\nimport s from './Login.module.css'\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport { CreateField, Input } from '../common/FormControls/FormControls'\r\nimport required, { maxLengthCreator } from '../../Utilits/Validators/validators'\r\nimport { connect } from 'react-redux'\r\nimport { logIn } from '../../redux/auth-reduser'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.logIn(formData.email, formData.password, formData.rememberMe);\r\n    }\r\n    if (props.isAuth) {\r\n        return <Redirect to=\"/profile\" />\r\n    }\r\n    return (\r\n        <div>\r\n            <h1>Login Form</h1>\r\n            <LoginReduxForm onSubmit={onSubmit} />\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nconst LoginForm = ({ handleSubmit, error }) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div>\r\n                {CreateField(\"Email\", \"email\", [required], Input)}\r\n            </div>\r\n            <div>\r\n                {CreateField(\"Password\", \"password\", [required], Input, \"password\")}\r\n            </div>\r\n            <div>\r\n                {CreateField(null, \"rememberMe\", [], \"input\", \"checkbox\", s.remember)}remember me\r\n            </div>\r\n            { error && <div className={s.formSummaryError}>\r\n                {error}\r\n            </div>}\r\n            <div>\r\n                <button className={s.loginBTN}>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => (\r\n    {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n)\r\n\r\n\r\n\r\nconst LoginReduxForm = reduxForm({\r\n    form: 'Login'\r\n})(LoginForm)\r\n\r\nexport default connect(mapStateToProps, { logIn })(Login); ","import React from 'react';\r\nimport s from './../Dialogs.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst DialogItem = (props) => {\r\n    let path = \"/dialogs/\" + props.id;\r\n\r\n    return <div >\r\n        <NavLink activeClassName={s.activeDialog} className={s.person} to={path}>{props.name}</NavLink>\r\n    </div>\r\n}\r\n\r\nexport default DialogItem;","import React from 'react';\r\nimport s from './../Dialogs.module.css';\r\n\r\nconst Message = (props) => {\r\n    return <div className={s.dialog}>{props.message}</div>\r\n}\r\n\r\nexport default Message;","import React from 'react';\r\nimport s from './Dialogs.module.css';\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport Message from \"./Message/Message\";\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { TextArea } from '../common/FormControls/FormControls';\r\nimport {required, maxLengthCreator } from '../../Utilits/Validators/validators';\r\n\r\nconst Dialogs = (props) => {\r\n\r\n    let state = props.dialogsPage;\r\n\r\n    let dialogsElements = state.dialogs.map(d => <DialogItem name={d.name} key={d.id} id={d.id} />);\r\n    let messagesElements = state.messages.map(m => <Message message={m.message} key={m.id} />);\r\n\r\n    let addNewMessageChange = (values) => {\r\n        props.sendMessage(values.newMessageBody);\r\n        values.newMessageBody =\"\";\r\n    }\r\n\r\n    return (\r\n        <div className={s.dialogs}>\r\n            <div className={s.dialogsItems}>\r\n                {dialogsElements}\r\n            </div>\r\n            <div className={s.messages}>\r\n                <div>{messagesElements}</div>\r\n                <ReduxAddMessageForm onSubmit={addNewMessageChange} />\r\n            </div>\r\n        </div >\r\n    )\r\n}\r\nconst maxLenght = maxLengthCreator(1000);\r\nconst AddMessageForm = (props) => {\r\n    return (\r\n        <div>\r\n            <form onSubmit={props.handleSubmit} className={s.textButtonArea}>\r\n                <Field validate={[required, maxLenght]} component={TextArea} name=\"newMessageBody\" />\r\n                <div><button>Send</button></div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst ReduxAddMessageForm = reduxForm({form: \"sendMessage\"})(AddMessageForm)\r\n\r\nexport default Dialogs;","import { sendMessageCreator } from \"../../redux/dialogs-reducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport { connect } from \"react-redux\";\r\nimport { withAuthRedirect } from '../../HOC/withAuthRedirect';\r\nimport { compose } from \"redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        dialogsPage: state.dialogsPage,\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        sendMessage: (newMessageBody) => {\r\n            dispatch(sendMessageCreator(newMessageBody));\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect\r\n)(Dialogs);","import React from 'react';\r\nimport './App.css';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport { Route, withRouter } from \"react-router-dom\";\r\nimport UsersContainer from './components/Users/UsersContainer';\r\nimport ProfileContainer from './components/Profile/ProfileContainer';\r\nimport Login from './components/Login/Login';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { initilizeApp } from './redux/app-reduser';\r\nimport Preloader from './components/Preloader/Preloader';\r\nimport { withSuspense } from './HOC/withSuspense';\r\nimport DialogsContainer from \"./components/Dialogs/DialogsContainer\";\r\n\r\n\r\n\r\nclass App extends React.Component {\r\n    componentDidMount() {\r\n        this.props.initilizeApp();\r\n    }\r\n    render() {\r\n        if (!this.props.isInitialized) {\r\n            return <Preloader />\r\n        }\r\n        return (\r\n\r\n            <div className='app-wrapper'>\r\n                <HeaderContainer />\r\n                <Navbar />\r\n                <div className='app-wrapper-content'>\r\n                    <Route path='/dialogs'\r\n                        render={() => {\r\n                            return <DialogsContainer />\r\n                        }} />\r\n\r\n                    <Route path='/profile/:userID?'\r\n                        render={() => <ProfileContainer />} />\r\n\r\n                    <Route path='/users'\r\n                        render={() => <UsersContainer />} />\r\n                    <Route path='/login'\r\n                        render={() => <Login />} />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isInitialized: state.app.isInitialized\r\n})\r\nexport default compose(\r\n    withRouter,\r\n    connect(mapStateToProps, { initilizeApp })\r\n)(App);","import * as serviceWorker from './serviceWorker';\r\nimport store from \"./redux/redux-store\";\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport {BrowserRouter} from \"react-router-dom\";\r\nimport {Provider} from \"react-redux\";\r\n\r\nReactDOM.render(\r\n    <BrowserRouter>\r\n        <Provider store={store}>\r\n            <App/>\r\n        </Provider>\r\n    </BrowserRouter>, document.getElementById('root'));\r\n\r\n\r\n// API\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2E1W7\",\"dialogsItems\":\"Dialogs_dialogsItems__3e3N-\",\"messages\":\"Dialogs_messages__3hRA5\",\"message\":\"Dialogs_message__34Skv\",\"person\":\"Dialogs_person__MY6F1\",\"activeDialog\":\"Dialogs_activeDialog__1V244\",\"text\":\"Dialogs_text__3gLYe\",\"textButtonArea\":\"Dialogs_textButtonArea__3bwXc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageBTN\":\"Users_pageBTN__3jsUH\",\"followBTN\":\"Users_followBTN__3wR1w\",\"getUsersBTN\":\"Users_getUsersBTN__21NM3\",\"userInfo\":\"Users_userInfo__2H1Nn\",\"users\":\"Users_users__36A9F\",\"avatar\":\"Users_avatar__n4B1c\",\"aboutUser\":\"Users_aboutUser__3ZqWS\",\"location\":\"Users_location__3WQI5\",\"selectedPage\":\"Users_selectedPage__1AQX8\",\"page\":\"Users_page__1QsaK\",\"preloader\":\"Users_preloader__1BDAh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__3vmwz\",\"profilePH\":\"Post_profilePH__3UCF8\",\"postText\":\"Post_postText__N8KPb\",\"like\":\"Post_like__xqKg3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__o1S2-\",\"title\":\"Header_title__JxuRg\",\"loginBlock\":\"Header_loginBlock__2JIDk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__2MWe9\",\"error\":\"FormControls_error__3Ztry\",\"formSummaryError\":\"FormControls_formSummaryError__2TFZp\",\"text\":\"FormControls_text__2SF-c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__GVH_v\",\"posts\":\"MyPosts_posts__3JNgW\",\"addPostBTN\":\"MyPosts_addPostBTN__4Hplh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__PhbMb\",\"pageNumber\":\"Paginator_pageNumber__Wdc0H\",\"paginator\":\"Paginator_paginator__29S8b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"email\":\"Login_email__1L1dZ\",\"pass\":\"Login_pass__RENn2\",\"remember\":\"Login_remember__2ISws\",\"formSummaryError\":\"Login_formSummaryError__6n6nu\",\"loginBTN\":\"Login_loginBTN__3Sip5\"};"],"sourceRoot":""}